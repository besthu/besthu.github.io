---
title: 剑指offer第二版-面试题14：剪绳子
date: 2017-11-27
tags: 算法
---
# 该题贪婪算法的说明

#### 题目如下：给你一根长度为n的绳子，请把绳子剪成m段，（m，n都是整数，n>1并且m>1），每段绳子的长度记为k[1],k[2]...k[m].请问k[1]×k[2]×...×k[m]可能的最大乘积是多少？例如，当绳子的长度是8时，剪成长度为2,3,4的三段，此时得到的最大乘积是18.

#### 贪婪算法：当n>=5的时候，我们尽可能多地剪长度为3的绳子：当剩下绳子长度为4时，将绳子剪成两段长度为2的绳子。


- 书上对上述贪婪算法的说明如下：当n>=5时，我们可以证明2(n-2)>=n并且3(n-3)>=n。也就是说，当绳子剩下长度的长度大于或等于5的时候，我们就把它剪成长度为3或者2的绳子段。另外，n>=5时，3(n-3)>=2(n-2)，因此我们应该尽可能的多剪长度为3的绳子段。

困惑：
> 当n>=5时，我们可以证明2(n-2)>=n并且3(n-3)>=n。也就是说，当绳子剩下长度的长度大于或等于5的时候，我们就把它剪成长度为3或者2的绳子段。

这段话第一遍时很困惑，凭什么确定不能剪成4（n-4），5（n-5），6（n-6）...的两段，而且，当n大于一定程度时，4（n-4）>=3(n-3),那就是说应该尽可能多地剪长度为4的绳子段了？

解答：**书上的说明过于跳跃，我的说明如下：**

- 前提:n>=5(n为绳子长度)
- **命题1：绳子切割后的最终结果，只可能存在三种长度的子段(长度为1，2，3)。**

  证明1：(我们认为长度为4的子段会被切割为2个长度为2的子段)。若存在字段长度n>=4，显然存在2(n-2)>=n，所以该子段至少能被再切割一次；故命题1成立。

---
- **命题2：绳子切割后的最终结果，不可能存在长度为1的子段。**

  证明2：假设存在长度为1的子段，该子段可以与其他任一子段合成一个新的子段，这样新的分割结果的乘积必然大于原先结果。故命题2成立。

---
- **命题3：长度为2的子段数量最多为2；**

  证明3：假设长度为2的子段数量大于2，则每3个长为2的子段必然可以合成为2个长度为3的子段，这样新乘积必然大于原先。故命题3成立。

---
综上，我们得出结论，每一刀都应该优先切一段长度为3的子段。
1. 若切到最后，剩余子段长度为1，则应该长为1的子段与长度为3的子段合成为两个长度为2的子段。 此时，长度为2的子段数量为2，切割完成。
2. 若切到最后，剩余子段长度为2，切割完成。
3. 若正好全都是长度为3的子段，切割完成。
